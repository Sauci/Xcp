{
  "type": "object",
  "properties": {
    "configurations": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "events": {
            "description": "This container contains the configuration of event channels on the XCP slave (see ECUC_Xcp_00150)",
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "consistency": {
                  "description": "Type of consistency used by event channel (see ECUC_Xcp_00171)",
                  "type": "string",
                  "enum": [
                    "DAQ",
                    "EVENT",
                    "ODT"
                  ],
                  "default": "ODT"
                },
                "priority": {
                  "description": "Priority of the event channel",
                  "type": "integer",
                  "minimum": 0,
                  "maximum": 255
                },
                "time_cycle": {
                  "description": "The event channel time cycle indicates which sampling period is used to\nprocess this event channel. A value of 0 means 'Not cyclic' (see ECUC_Xcp_00173)",
                  "type": "integer",
                  "minimum": 0,
                  "maximum": 255
                },
                "time_unit": {
                  "description": "This configuration parameter indicates the unit of the event channel time cycle (see ECUC_Xcp_00174)",
                  "type": "string",
                  "enum": [
                    "TIMESTAMP_UNIT_1S",
                    "TIMESTAMP_UNIT_1MS",
                    "TIMESTAMP_UNIT_10MS",
                    "TIMESTAMP_UNIT_100MS",
                    "TIMESTAMP_UNIT_1US",
                    "TIMESTAMP_UNIT_10US",
                    "TIMESTAMP_UNIT_100US",
                    "TIMESTAMP_UNIT_1NS",
                    "TIMESTAMP_UNIT_10NS",
                    "TIMESTAMP_UNIT_100NS",
                    "TIMESTAMP_UNIT_1PS",
                    "TIMESTAMP_UNIT_10PS",
                    "TIMESTAMP_UNIT_100PS"
                  ]
                },
                "type": {
                  "description": "This configuration parameter indicates what kind of DAQ list can be allocated to this event channel (see ECUC_Xcp_00172)",
                  "type": "string",
                  "enum": [
                    "DAQ",
                    "DAQ_STIM"
                  ],
                  "default": "DAQ"
                },
                "triggered_daq_list_ref": {
                  "description": "References all DAQ lists that are trigged by this event channel (see ECUC_Xcp_00151)",
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              },
              "required": [
                "priority",
                "time_cycle",
                "time_unit",
                "triggered_daq_list_ref"
              ]
            },
            "minItems": 1,
            "maxItems": 65534
          },
          "daqs": {
            "description": "This container contains the configuration of the DAQs.",
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "description": "Name of the DAQ used as a reference within /configurations[x]/events[x]/triggered_daq_list_ref",
                  "type": "string",
                  "pattern": "[A-Z_][A-Z0-9_]*"
                },
                "type": {
                  "description": "This indicates whether this DAQ list represents a DAQ or a STIM (see ECUC_Xcp_00052)",
                  "type": "string",
                  "enum": [
                    "DAQ",
                    "DAQ_STIM",
                    "STIM"
                  ]
                },
                "max_odt": {
                  "description": "MAX_ODT indicates the maximum amount of ODTs in this DAQ list (STATIC configuration) (see ECUC_Xcp_00053)",
                  "type": "integer",
                  "minimum": 0,
                  "maximum": 252
                },
                "max_odt_entries": {
                  "description": "This parameter indicates the maximum amount of entries in an ODT of this DAQ list (STATIC configuration) (see ECUC_Xcp_00058)",
                  "type": "integer",
                  "minimum": 0,
                  "maximum": 255
                },
                "dtos": {
                  "description": "This container collects data transfer object specific parameters for the DAQ list (see ECUC_Xcp_00065)",
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "pid": {
                        "description": "Packet identifier (PID) of the DTO that identifies the ODT the content of the DTO (see ECUC_Xcp_00066)",
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 251
                      },
                      "pdu_mapping": {
                        "description": "This reference specifies the mapping of the DTO to the PDUs from the lower-layer interfaces (CanIf, FrIf, SoAd and Cdd). A reference to a XcpRxPdu is only feasible if the the DaqListType is DAQ_STIM. A reference to a XcpTxPdu is only feasible if the DaqListType is DAQ (see ECUC_Xcp_00067)",
                        "type": "string",
                        "pattern": "[A-Z_][A-Z0-9_]*"
                      }
                    },
                    "required": [
                      "pid",
                      "pdu_mapping"
                    ]
                  },
                  "minItems": 0
                }
              },
              "required": [
                "name",
                "type",
                "max_odt",
                "max_odt_entries",
                "dtos"
              ]
            },
            "minItems": 1
          }
        },
        "required": [
          "events",
          "daqs"
        ],
        "additionalProperties": false
      },
      "minItems": 1
    }
  },
  "required": [
    "configurations"
  ],
  "definitions": {
    "channel_mode": {
      "type": "string",
      "enum": [
        "CANTP_MODE_HALF_DUPLEX",
        "CANTP_MODE_FULL_DUPLEX"
      ]
    },
    "communication_type": {
      "type": "string",
      "enum": [
        "CANTP_FUNCTIONAL",
        "CANTP_PHYSICAL"
      ]
    },
    "receiver_common": {
      "properties": {
        "comment": {
          "type": "string"
        },
        "network_service_data_unit_identifier": {
          "$ref": "#/definitions/network_address_extension"
        },
        "N_Ar_timeout": {
          "$ref": "#/definitions/network_layer_timeout"
        },
        "N_Br_timeout": {
          "$ref": "#/definitions/network_layer_timeout"
        },
        "N_Cr_timeout": {
          "$ref": "#/definitions/network_layer_timeout"
        },
        "block_size": {
          "$ref": "#/definitions/block_size"
        },
        "minimum_separation_time": {
          "$ref": "#/definitions/minimum_separation_time"
        },
        "wait_for_transmission maximum": {
          "$ref": "#/definitions/wait_for_transmission_maximum"
        },
        "network_service_data_unit_reference": {
          "type": "integer",
          "minimum": 0,
          "maximum": 4294967295
        },
        "enable_padding": {
          "type": "boolean"
        },
        "communication_type": {
          "$ref": "#/definitions/communication_type"
        }
      },
      "required": [
        "network_service_data_unit_reference"
      ]
    },
    "block_size": {
      "type": "integer",
      "minimum": 0
    },
    "minimum_separation_time": {
      "type": "number",
      "minimum": 0.0,
      "maximum": 0.127
    },
    "wait_for_transmission_maximum": {
      "type": "integer",
      "minimum": 0
    },
    "transmitter_common": {
      "properties": {
        "comment": {
          "type": "string"
        },
        "network_service_data_unit_identifier": {
          "$ref": "#/definitions/network_address_extension"
        },
        "N_As_timeout": {
          "$ref": "#/definitions/network_layer_timeout"
        },
        "N_Bs_timeout": {
          "$ref": "#/definitions/network_layer_timeout"
        },
        "N_Cs_timeout": {
          "$ref": "#/definitions/network_layer_timeout"
        },
        "network_service_data_unit_reference": {
          "type": "integer",
          "minimum": 0,
          "maximum": 4294967295
        },
        "enable_transmit_cancellation": {
          "type": "boolean"
        },
        "enable_padding": {
          "type": "boolean"
        },
        "communication_type": {
          "$ref": "#/definitions/communication_type"
        }
      },
      "required": [
        "network_service_data_unit_reference"
      ]
    },
    "network_address_extension": {
      "type": "integer",
      "minimum": 0,
      "maximum": 255
    },
    "network_layer_timeout": {
      "type": "number",
      "minimum": 0
    }
  }
}
